# Digital Wardrobe (数字化衣橱)

一个基于 Node.js 的轻量级个人衣橱管理系统，支持全流程的衣物生命周期管理（购买 -> 收货 -> 入柜 -> 换季收纳 -> 淘汰）。无需复杂的数据库配置，数据以 CSV 格式持久化保存，适合个人使用。

## ✨ 主要功能

### 1. 📊 财务管理
- **消费概览**：年度消费统计、月均支出、购买件数
- **预算管理**：支持设置年度预算，实时显示预算使用情况
- **消费趋势**：滚动12个月消费趋势图表，支持年份切换
- **历史购买**：完整的购买记录列表，支持编辑

### 2. 🧥 衣柜管理
- **正在使用**：当前季节活跃的衣物列表
- **换季收纳**：支持批量收纳操作，记录存放地点
- **预淘汰**："后悔药"机制，支持恢复或彻底删除
- **图片管理**：支持上传商品图片，列表显示缩略图

### 3. 🛒 购买记录管理
- **手动添加**：填写表单添加购买记录
- **图片上传**：支持点击上传或粘贴截图
- **自动计算**：自动统计年度消费和购买数量

## 🚀 快速开始

### 前置要求
- 安装 [Node.js](https://nodejs.org/) (v14+ 推荐)

### 安装与运行

1. **克隆项目**
   ```bash
   git clone https://github.com/yourusername/digital-wardrobe.git
   cd digital-wardrobe
   ```

2. **启动服务**
   ```bash
   npm start
   # 或
   node server.js
   ```

3. **访问应用**
   打开浏览器访问：[http://localhost:5173](http://localhost:5173)

### 📱 局域网访问（手机端）
确保手机和电脑在同一 WiFi 下，查找电脑的局域网 IP，手机浏览器访问：
`http://<电脑IP>:5173`

## 📂 文件结构

```
DigitalWardrobe/
├── data/                   # 数据存储目录
│   ├── inventory.csv       # 衣柜 (正在使用)
│   ├── storage.csv         # 收纳 (换季/闲置)
│   ├── discard.csv         # 淘汰 (回收站)
│   └── purchases.csv       # 购买记录
├── src/                    # 前端源码
│   ├── app.js              # 应用入口
│   ├── utils.js            # 工具函数
│   ├── config.js           # 配置常量
│   ├── views/              # 页面视图
│   │   ├── finance.js      # 财务管理
│   │   └── wardrobe.js     # 衣柜管理
│   └── components/         # 组件
│       ├── table.js        # 表格组件
│       ├── modal.js        # 编辑弹窗
│       └── purchaseForm.js # 购买记录表单
├── index.html              # 入口文件
├── server.js               # Node.js 后端服务
└── README.md               # 说明文档
```

## 📝 数据说明

### 购买记录 (purchases.csv)
| 字段 | 说明 |
|------|------|
| 名称 | 商品名称 |
| 分类 | 短袖/长袖/外套/裤子等 |
| 品牌 | 商品品牌 |
| 季节 | 春/夏/秋/冬/四季 |
| 状态 | 已下单/已收货/已入库/已收纳/已淘汰 |
| 价格 | 购买价格 |
| 购买链接 | 商品链接 |
| 购买日期 | 日期格式 |
| 购买途径 | 淘宝/京东/拼多多/线下等 |
| 图片 | 商品图片URL或Base64 |

## � 技术栈

- **前端**：原生 JavaScript (ES Modules)
- **后端**：Node.js (原生 http 模块)
- **样式**：CSS 变量 + Flexbox 布局
- **数据**：CSV 文件存储

## �📝 常见问题

**Q: 数据会丢失吗？**
A: 所有操作都会实时写入本地 CSV 文件。建议定期备份 `data/` 目录。

**Q: 如何添加购买记录？**
A: 进入"财务管理" -> "历史购买"，点击"添加购买记录"按钮。

**Q: 支持图片上传吗？**
A: 支持。可以点击图片上传区域选择文件，或直接粘贴截图。

**Q: 如何在外网访问？**
A: 需要部署到云服务器，或使用内网穿透工具（如 ngrok、frp）。

## 📄 许可证
MIT License
