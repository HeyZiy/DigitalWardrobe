# Digital Wardrobe (数字化衣橱)

一个基于 Node.js 的轻量级个人衣橱管理系统，支持全流程的衣物生命周期管理（购买 -> 收货 -> 入柜 -> 换季收纳 -> 淘汰）。无需复杂的数据库配置，数据以 CSV 格式持久化保存，适合个人使用。

![Dashboard Preview](docs/preview.png)
*(注：请在 `docs/preview.png` 放入你的项目截图，或直接运行查看)*

## ✨ 主要功能

### 1. 📊 数据仪表盘 (Dashboard)
- **财务统计**：实时计算累计支出、购买总数。
- **衣物分布**：按分类（Top 5）展示衣物数量及占比。
- **活跃看板**：展示最近入库或使用的衣物。
- **快捷入口**：一键跳转至购买、整理或收纳页面。

### 2. 🛒 购买全流程管理
- **智能录入**：支持解析淘宝/京东的分享口令（如 `【淘宝】...`），自动提取标题和链接。
- **自动抓取**：通过链接自动抓取商品元数据（标题、价格、主图）。
- **状态流转**：
  - `已下单`：记录支出，等待收货。
  - `收货入柜`：一键操作，自动将物品加入“正在使用”的衣柜列表。

### 3. 🧥 衣物全生命周期
- **正在使用 (Wardrobe)**：当前季节活跃的衣物。
- **换季收纳 (Storage)**：
  - 支持批量收纳操作。
  - 记录存放地点（如“床底箱子 A”），方便查找。
- **预淘汰 (Discard)**：
  - “后悔药”机制：支持从淘汰区恢复至衣柜或收纳。
  - 支持批量彻底删除。

### 4. 🛠️ 高级特性
- **图片管理**：支持粘贴图片链接，自动预览，列表页显示缩略图。
- **自定义字段**：随时添加新属性（如“材质”、“搭配建议”），系统自动更新 CSV 结构。
- **批量操作**：多选条目后，可批量移动、删除或修改状态。
- **数据持久化**：所有数据保存在 `data/*.csv` 文件中，方便导出和备份。

## 🚀 快速开始

### 前置要求
- 安装 [Node.js](https://nodejs.org/) (v14+ 推荐)

### 安装与运行

1. **克隆项目**
   ```bash
   git clone https://github.com/yourusername/digital-wardrobe.git
   cd digital-wardrobe
   ```

2. **启动服务**
   本项目零依赖（Zero-dependency），直接使用 Node.js 原生模块运行：
   ```bash
   node server.js
   ```

3. **访问应用**
   打开浏览器访问：[http://localhost:5173](http://localhost:5173)

### 📱 局域网访问（手机端）
确保手机和电脑在同一 WiFi 下，查找电脑的局域网 IP（如 `192.168.1.x`），手机浏览器访问：
`http://192.168.1.x:5173`

## 📂 文件结构

```
DigitalWardrobe/
├── data/               # 数据存储目录 (自动生成/更新)
│   ├── inventory.csv   # 衣柜 (正在使用)
│   ├── storage.csv     # 收纳 (换季/闲置)
│   ├── discard.csv     # 淘汰 (回收站)
│   └── purchases.csv   # 账本 (购买记录)
├── src/                # 前端源码
│   ├── app.js          # 核心逻辑 (路由、渲染、交互)
│   └── styles.css      # 样式文件 (Dark Mode)
├── index.html          # 入口文件
├── server.js           # Node.js 后端服务 (API & 静态资源)
└── README.md           # 说明文档
```

## 📝 常见问题

**Q: 数据会丢失吗？**
A: 所有操作都会实时写入本地 CSV 文件。建议定期备份 `data/` 目录。

**Q: 为什么淘宝链接抓取失败？**
A: 大型电商平台有反爬虫机制。目前只是留了一个解析，相当于没有这个功能。

**Q: 如何部署到云端？**
A: 购买一台云服务器，上传代码，运行 `node server.js`，并配置 Nginx 反向代理或直接开放端口即可。

## 🤝 贡献
欢迎提交 Issue 或 Pull Request！

## 📄 许可证
MIT License
